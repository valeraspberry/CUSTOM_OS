import random

def start_game():
    hp = 100
    ammo = 10
    scrap = 0
    position = [0, 0]
    enemies = ["Raider", "Mutant Rat", "Scavenger", "Feral Ghoul"]

    print("\n" + "="*40)
    print("        --- THE WASTELAND ---")
    print("="*40)
    print("Commands: N, S, E, W (Move), SEARCH, STATUS, QUIT")

    while hp > 0:
        print(f"\n[POS: {position[0]},{position[1]}]")
        cmd = input("WASTELAND> ").upper()

        if cmd == "QUIT":
            break
        elif cmd == "STATUS":
            print(f"--- VITAL SIGNS ---\nHP: {hp}\nAMMO: {ammo}\nSCRAP: {scrap}")
            continue

        moved = False
        if cmd == "N": position[1] += 1; moved = True
        elif cmd == "S": position[1] -= 1; moved = True
        elif cmd == "E": position[0] += 1; moved = True
        elif cmd == "W": position[0] -= 1; moved = True

        if moved:
            print("Traveling through the ruins...")
            event = random.random()
            if event > 0.7:
                enemy = random.choice(enemies)
                print(f"DANGER! A {enemy} appeared!")
                if ammo > 0:
                    dmg_taken = random.randint(5, 15)
                    hp -= dmg_taken
                    ammo -= 1
                    scrap += 15
                    print(f"You shot the {enemy}. Lost {dmg_taken} HP, found 15 Scrap.")
                else:
                    hp -= 30
                    print(f"Out of ammo! The {enemy} mauled you. Lost 30 HP.")
            elif event > 0.4:
                print("The area seems quiet.")
            else:
                found_ammo = random.randint(1, 3)
                ammo += found_ammo
                print(f"You found a stash! +{found_ammo} Ammo.")
        elif cmd == "SEARCH":
            if random.random() > 0.5:
                found_scrap = random.randint(5, 20)
                scrap += found_scrap
                print(f"Found {found_scrap} Scrap.")
            else:
                print("Nothing here.")
        else:
            print("Use N, S, E, W, SEARCH, STATUS or QUIT.")

    if hp <= 0:
        print("\n[CRITICAL FAILURE]: YOU DIED.")
    print(f"\nMission Ended. Scrap: {scrap}")

# CHIAMATA DIRETTA - Senza IF
start_game()
